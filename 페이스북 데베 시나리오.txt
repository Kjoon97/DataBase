--1. 2020-11-19에 올라온 게시물 출력
SELECT *
FROM POST
WHERE POSTDATE LIKE '2020-11-19%';

--2. 이나은이 올린 게시물에 좋아요가 몇개 달렸는지
SELECT COUNT(PLIKE_USERID) AS NUMBER_0F_LIKE
FROM PLIKE
WHERE LIKE_POSTID = (SELECT UP.POSTID
                    FROM USERR U, USERPOST UP
                    WHERE U.USERID=UP.POST_USERID AND U.USERNAME='이나은');

--3. 장기용의 친구 찾기
SELECT USERNAME
FROM USERR
WHERE USERID IN (  SELECT FRIENDID 
                FROM USERR U, FRIEND F
                WHERE U.USERID = F.USERID AND U.USERNAME='장기용');
                
--4. 게시물 P13에 상태표현한 사용자와 상태표현 출력
SELECT USERNAME, EMOTION
FROM USERR U, PLIKE P
WHERE U.USERID = P.PLIKE_USERID AND LIKE_POSTID = 'P13';

--5.그룹 집사와 고양이에 가입한 사용자 출력
SELECT USERNAME
FROM USERR
WHERE USERID IN 
    (SELECT JOIN_USERID
    FROM JOINING J, GROUPP G
    WHERE J.JOIN_GROUPID = G.GROUPID AND G.GROUPNAME='집사와 고양이');

--6.이효리가 쓴 댓글에 상태표현을 한 사용자 이름과 상태표현 출력
CREATE VIEW COMMENTLIKE
AS  SELECT LIKE_COMMENTID, USERNAME, EMOTION, COMMENT_USERID
    FROM CLIKE CL, USERR U, COMMENTS C
    WHERE CL.CLIKE_USERID = U.USERID AND CL.LIKE_COMMENTID=C.COMMENTID;

SELECT USERNAME, EMOTION
FROM COMMENTLIKE
WHERE COMMENT_USERID=(SELECT USERID
                    FROM USERR
                    WHERE USERNAME='이효리');

--7. 수능의 기술 페이지가 만든 스토리 출력             
CREATE VIEW PAGESTORYCRE
AS SELECT PS.STORY_PAGEID, S.WRITEDATE, S.S_CONTENTS, P.PAGENAME
FROM PAGESTORY PS, STORY S, PAGEE P
WHERE PS.STORYID=S.STORYID AND P.PAGEID=PS.STORY_PAGEID;

SELECT PAGENAME, S_CONTENTS 
FROM PAGESTORYCRE
WHERE PAGENAME='수능의 기술';

--8: 페이지 무신사가 게시한 게시물 중에서 날짜 2020년 11월 24일에 올린 게시물의 내용 출력하라.
CREATE VIEW PAGE_POST
AS SELECT P.POSTDATE,P.P_CONTENTS, G.POST_PAGEID
FROM PAGEPOST G, POST P
WHERE G.POSTID = P.POSTID;

SELECT P_CONTENTS
FROM PAGE_POST
WHERE POST_PAGEID = '@musinsa' AND POSTDATE LIKE '2020-11-24%';